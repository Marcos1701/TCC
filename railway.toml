# Railway Multi-Service Configuration
# Este arquivo define 4 serviços independentes do mesmo repositório
# Cada serviço precisa ser criado separadamente no Railway Dashboard

# IMPORTANTE: Railway não suporta múltiplos services em um único railway.toml
# Este arquivo serve como REFERÊNCIA para configurar cada serviço manualmente
# Veja RAILWAY_MULTI_SERVICE_SETUP.md para instruções detalhadas

# ==========================================
# Configuração para: Serviço API
# ==========================================
# Nome do serviço no Railway: "api"
# Build: Docker
# Dockerfile Path: Api/Dockerfile
# Docker Build Context: .
# Start Command: (usar padrão do Dockerfile - gunicorn)

[build]
builder = "DOCKERFILE"
dockerfilePath = "Api/Dockerfile"

[deploy]
healthcheckPath = "/admin/login/"
healthcheckTimeout = 500
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# ==========================================
# Configuração para: Serviço WORKER  
# ==========================================
# Criar serviço separado com estas configurações:
# Nome do serviço no Railway: "worker"
# Build: Docker
# Dockerfile Path: Api/Dockerfile
# Docker Build Context: .
# Start Command Override: /docker-entrypoint.sh worker

# Copie este bloco para railway-worker.toml:
# [build]
# builder = "DOCKERFILE"
# dockerfilePath = "Api/Dockerfile"
#
# [deploy]
# restartPolicyType = "ON_FAILURE"
# restartPolicyMaxRetries = 10

# ==========================================
# Configuração para: Serviço BEAT
# ==========================================
# Criar serviço separado com estas configurações:
# Nome do serviço no Railway: "beat"
# Build: Docker
# Dockerfile Path: Api/Dockerfile
# Docker Build Context: .
# Start Command Override: /docker-entrypoint.sh beat

# Copie este bloco para railway-beat.toml:
# [build]
# builder = "DOCKERFILE"
# dockerfilePath = "Api/Dockerfile"
#
# [deploy]
# restartPolicyType = "ON_FAILURE"
# restartPolicyMaxRetries = 10

# ==========================================
# Configuração para: Serviço FRONTEND
# ==========================================
# Criar serviço separado com estas configurações:
# Nome do serviço no Railway: "frontend"
# Build: Docker
# Dockerfile Path: Front/Dockerfile
# Docker Build Context: Front
# Start Command: (usar padrão do Dockerfile - nginx)

# Copie este bloco para railway-frontend.toml:
# [build]
# builder = "DOCKERFILE"
# dockerfilePath = "Front/Dockerfile"
#
# [deploy]
# healthcheckPath = "/health"
# healthcheckTimeout = 300
# restartPolicyType = "ON_FAILURE"
# restartPolicyMaxRetries = 5
